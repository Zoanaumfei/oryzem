<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Oryzem — Hosting Test</title>
  <link rel="stylesheet" href="src/css/styles.css">
</head>
<body>
  <header>
    <h1>Oryzem — Hosting Test Page</h1>
  </header>
  <main>
    <p id="status">Status: <strong>not tested</strong></p>
    <p>Build ID: <code id="build"></code></p>
    <p>Time: <code id="time"></code></p>
    <button id="check">Run connectivity check</button>
    <pre id="output"></pre>
    <p>If you can see this page when opened from your Hostinger URL, the basic connection is working.</p>
  </main>
  <script>
    // Small client-side test to help verify hosting
    document.getElementById('build').textContent = Math.random().toString(36).slice(2,9);
    document.getElementById('time').textContent = new Date().toLocaleString();

    document.getElementById('check').addEventListener('click', async () => {
      const out = document.getElementById('output');
      const status = document.getElementById('status');
      status.innerHTML = 'Status: <strong>running</strong>';
      out.textContent = '';
      try {
        // Fetch local ping file to ensure static files are served
        const r = await fetch('ping.txt', {cache: 'no-store'});
        const text = await r.text();
        out.textContent += `ping.txt -> ${text}\n`;

        // Try a public API to test outbound networking from the browser
        const g = await fetch('https://api.github.com/zen');
        const gz = await g.text();
        out.textContent += `github zen -> ${gz}\n`;

        status.innerHTML = 'Status: <strong>success</strong>';
      } catch (err) {
        out.textContent += `error: ${err.message}`;
        status.innerHTML = 'Status: <strong>failed</strong>';
      }
    });
  </script>
</body>
</html>
